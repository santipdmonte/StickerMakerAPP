<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <style>
        .kpi-card { display: inline-block; margin: 10px; padding: 20px; border: 1px solid #ccc; border-radius: 8px; min-width: 180px; text-align: center; background: #f9f9f9; }
        .kpi-title { font-size: 1.1em; color: #555; }
        .kpi-value { font-size: 2em; font-weight: bold; color: #222; }
        .admin-requests { margin-top: 30px; }
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background: #eee; }
    </style>
</head>
<body>
    <h1>Admin Dashboard</h1>
    <div>
        <div class="kpi-card">
            <div class="kpi-title">Total Users</div>
            <div class="kpi-value">{{ total_users }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-title">New Users (7d)</div>
            <div class="kpi-value">{{ new_users }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-title">Active Users (24h)</div>
            <div class="kpi-value">{{ active_users }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-title">Total Transactions</div>
            <div class="kpi-value">{{ total_transactions }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-title">Total Revenue</div>
            <div class="kpi-value">{{ total_revenue }}</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-title">Avg. Order Value</div>
            <div class="kpi-value">{{ avg_order_value|round(2) }}</div>
        </div>
    </div>

    <div class="admin-requests">
        <h2>Recent Admin Requests</h2>
        {% if recent_admin_requests and recent_admin_requests|length > 0 %}
        <table>
            <tr>
                <th>Email</th>
                <th>Requested At</th>
                <th>Status</th>
            </tr>
            {% for req in recent_admin_requests %}
            <tr>
                <td>{{ req.email }}</td>
                <td>{{ req.created_at  }}</td>
                <td>{{ req.status }}</td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
            <p>No pending admin requests.</p>
        {% endif %}
    </div>

</body>
</html> 